# 中断系统
## 中断源的组织
> 中断系统的复杂性是由中断源的多样性引起的
### 中断源的种类
1. 由外围设备引起的中断
   > 低速外围设备：数据缓冲器准备好接受或发送数据\
   > 高速外围设备：DMA完成一个数据块传送后的处理工作\
   > 外围设备的启动和停止，输入输出过程中任意一个环节出现错误等

2. 由处理机产生的中断
   > 程序错误引起的，如算术运算操作溢出等。
   
3. 由存储器产生的中断
   > 非法地址，动态随机存储器（DRAM）刷新，主存储器页面失效等

4. 由控制器产生的中断
   > 非法指令，未定义的操作码，堆栈溢出等

5. 由总线产生的中断
6. 实时过程控制产生的中断
7. 实时钟的定时中断
8. 多处理机系统中，从其他处理机发送来的中断，控制台开关中断等
9.  程序调试过程中，执行完一条指令或程序运行到一个事先设置的中断点时，通过中断进入监控程序，以便对被调试程序进行跟踪或监测
10. 硬件故障中断
11. 电源故障中断


### 中断源的分类组织
- 目的：为了在响应中断后处理机能够尽快的找到中断入口，以便为中断源提供服务
- IBM的分类
   1. 重新启动中断
      > 处理机不能禁止这类中断
   2. 机器校验出错中断
      > 主要包括电源故障，运算器误动作，主存储器校验错，输入输出通道硬件故障及处理机的其他各种故障\
      > 中断处理主要是记录中断的原因及其严重程度
   3. 程序性错误引起的中断
   4. 访问管理程序中断
      > 当用户执行访管指令引起的中断，处理机一般不能禁止这类中断
   5. 外部事件中断
      > 用于计时，计费，控制的定时器中断；与其他机器和系统联系的外来信号中断；操作员对机器进行干预的中断键的中断

   6. 输入输出中断
      > 用于处理机管理各种外围设备，管理通道处理机等

- 可屏蔽中断和不可屏蔽中断
  - 也称一般中断和异常中断
  - 可屏蔽中断：可以通过软件屏蔽的中断
  - 不可屏蔽中断：不可以通过软件屏蔽的中断
    > 不可屏蔽中断一旦申请中断，处理机必定会响应\
    > 异常中断包含：自陷中断，故障中断，失效中断 

### 中断优先级
- 决定因素
  - 中断源的紧迫性
  - 设备的工作速度
  - 数据恢复的难易程度
  - 要求处理机提供的服务量

- 实现方式：硬件的排队器   
  - 当有多个中断源同时请求中断服务时，优先级高的中断源先被处理机响应
  - 处理机在执行某一级别的中断源服务程序的时候，只有比它高级的中断源的中断请求才能中断其服务程序
  
## 中断系统的软硬件功能分配
> 中断系统中的软硬件功能分配主要考虑的两个因素：中断响应时间和灵活性

## 中断屏蔽
